(()=>{"use strict";const e=({draw:e,duration:t=1e3,timingplane:s="linear"})=>{const l={linear:e=>e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeOutQuart:e=>1-Math.pow(1-e,5),aseOutExpo:e=>1===e?1:1-Math.pow(2,-10*e)};s in l||(s="linear");let a=performance.now();requestAnimationFrame((function i(n){let r=(n-a)/t;r>1&&(r=1);let c=l[s](r);e(c),r<1&&requestAnimationFrame(i)}))};(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),l=document.getElementById("timer-seconds"),a=setInterval((()=>{let e=(()=>{let e=new Date("31 february 2022 01:15").getTime(),t=(new Date).getTime(),s=Math.max((e-t)/1e3,0);return{timeRemaining:s,hours:Math.floor(s/60/60),minutes:Math.floor(s/60%60),seconds:Math.floor(s%60)}})();t.textContent=e.hours<10?"0"+e.hours:e.hours,s.textContent=("0"+e.minutes).slice(-2),l.textContent=("0"+e.seconds).slice(-2),e.timeRemaining||clearInterval(a)}),1e3)})(),(()=>{const t=document.querySelector("menu"),s=(t,s)=>{t.preventDefault();const l=window.scrollY,a=document.querySelector(s).getBoundingClientRect().top;e({duration:1e3,timingplane:"easeOutCubic",draw(e){window.scrollTo(0,l+a*e)}})};document.querySelector("body").addEventListener("click",(e=>{let l,a=null;e.target.closest(".menu")||e.target.classList.contains("close-btn")||(a=e.target.closest("menu ul>li>a"))||!e.target.closest(".active-menu")&&t.classList.contains("active-menu")?t.classList.toggle("active-menu"):(l=e.target.closest("main a"))&&s(e,l.getAttribute("href")),a&&s(e,a.getAttribute("href"))}))})(),(()=>{const t=document.querySelector(".popup"),s=t.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((l=>{l.addEventListener("click",(l=>{t.style.display="block",window.innerWidth>767&&(()=>{const t=100-100*s.getBoundingClientRect().left/window.innerWidth;e({timingplane:"aseOutExpo",draw(e){s.style.opacity=`${e}`,s.style.left=100-e*t+"%",s.style.transform="translateX( 0px )"}}),s.style.left="",s.style.transform="",s.style.opacity=""})()}))})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(t.style.display="none")}))})(),((t=100)=>{const s=document.querySelector(".calc-block"),l=s.querySelector(".calc-type"),a=s.querySelector(".calc-square"),i=s.querySelector(".calc-count"),n=s.querySelector(".calc-day"),r=document.getElementById("total"),c=([t,s])=>{e({duration:500,timingplane:"easeInOutCubic",draw(e){r.textContent=t+Math.round(e*(s-t))}})};s.debounce=function(e,t){return s=>{"lastCallTimer"in this&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout((()=>e(s)),t)}},s.addEventListener("input",(e=>{e.target!==l&&e.target!==a&&e.target!==i&&e.target!==n||(e.target!==l&&(e.target.value=e.target.value.replace(/\D+/g,""),e.target.value=e.target.value.replace(/^0+/g,"")),(()=>{const e=+l.options[l.selectedIndex].value,o=+a.value;let u=0,d=1,m=1;+i.value>1&&(d+=+i.value/10),0==+n.value||(+n.value<5?m=2:+n.value<10&&(m=1.5)),u=Math.round(t*e*o*d*m),+r.textContent!==u&&s.debounce(c,300)([+r.textContent,u])})())}))})(100),(()=>{const e=document.querySelectorAll('input[name="user_name"]'),t=document.querySelector('input[name="user_message"]'),s=document.querySelectorAll('input[name="user_phone"]'),l=document.querySelectorAll('input[name="user_email"]'),a=document.querySelectorAll("form input"),i=/[^а-я-\s]+/gi,n=/[^a-zа-я\_\-\@\.\!\~\*\']+/gi,r=/[а-я]/gi,c=/[^\d\-()']+/gi,o=/(^[\s\-]+|^)(.*?)(?:([\s\-]+$)|$)/i,u=/(\s{2,})|(\-{2,})/g,d=/((^|\s\-|\s|\-)[а-я])([а-я]*)/gi;e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(i,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(d,((e,t,s,l)=>t.toUpperCase()+l.toLowerCase()))}))})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(i,"")})),s.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(c,"")}))})),l.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(n,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(r,(e=>""))}))})),a.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(o,((e,t,s)=>`${s}`)),t=t.replace(u,((e,t,s)=>(t?" ":"")+(s?"-":""))),e.target.value=t}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const l=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===l?(e.classList.add("active"),s[t].classList.remove("d-none")):(e.classList.remove("active"),s[t].classList.add("d-none"))}))}}))})(),((e,t=1500)=>{const s={slide:"slide-default",slideActive:"slide-active-default",switch:"switch-defult",switchActive:"switch-active-default",get switchOrButton(){return`.${this.switch}`+("button"in this?`, .${this.button}`:"")}};let l="";for(let t in e)s[t]=e[t];if("slider"in s||(l+="init:slider не указан \n"),l)return l;const a=document.querySelector(`.${s.slider}`);if(a?"UL"!==a.nodeName&&(l+=`тег <${a.nodeName.toLowerCase()}>не приемлем для инициализации слайдера, используйте тег <ul>\n`):l+=`тег инициализации слайдера <ul class="${s.slider}"></ul> не найден\n`,l)return l;const i=a.querySelectorAll("li");if(i.length?i.forEach((e=>{e.classList.contains(s.slide)||("slide-default"===s.slide?(e.classList.add(s.slide),e.style.opacity="0",e.style.position="absolute"):l+=`класс "${s.slide}" не объявлен для слайда <li class="${e.classList}">\n`)})):l+=`теги инициализации слайдов <li class="${s.slide}"></li> не найдены\n`,l)return l;const n=a.querySelector(`.${s.button}.${s.buttonPrev}`),r=a.querySelector(`.${s.button}.${s.buttonNext}`);t=t<=0?0:t<1e3?1e3:t;let c,o=0;const u=(()=>{const e=[],t=document.createElement("li");t.classList.add(s.switch),"switch-defult"===s.switch&&(t.style.display="inline-block",t.style.width="2rem",t.style.height="2rem",t.style.marginLeft="1rem",t.style.backgroundColor="white",t.style.cursor="pointer",t.style.borderRadius="50%"),"switch-active-default"===s.switchActive&&(t.style.outlineWidth="0.3rem",t.style.outlineStyle="solid",t.style.outlineColor="white");const l=document.createElement("ul");"switchList"in s&&l.classList.add(s.switchList);for(let s=0;s<i.length;s++)e.push(t.cloneNode()),l.append(e[s]);return e[0].classList.add(s.switchActive),a.append(l),e})(),d=e=>{i[e].classList.remove(s.slideActive),"slide-active-default"===s.slideActive&&(i[e].style.opacity="0"),u[e].classList.remove(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="white")},m=e=>{i[e].classList.add(s.slideActive),"slide-active-default"===s.slideActive&&(i[e].style.opacity="1"),u[e].classList.add(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="blue")},v=(e,t)=>{n&&(n.style.filter=e?"brightness(0.5)":""),r&&(r.style.filter=t?"brightness(0.5)":"")},h=()=>{d(o),o++,o>=i.length&&(o=0),v(0===o,o===i.length-1),m(o)},g=e=>{c=setInterval(h,e)};a.addEventListener("click",(e=>{e.target.matches(s.switchOrButton)&&(e.preventDefault(),d(o),e.target.classList.contains(s.buttonNext)?o++:e.target.classList.contains(s.buttonPrev)?o--:e.target.classList.contains(s.switch)&&u.forEach(((t,s)=>{e.target===t&&(o=s)})),o=Math.min(Math.max(o,0),i.length-1),v(0===o,o===i.length-1),m(o))})),a.addEventListener("mouseenter",(e=>{t&&e.target.matches(s.switchOrButton)&&clearInterval(c)}),!0),a.addEventListener("mouseleave",(e=>{t&&e.target.matches(s.switchOrButton)&&g(t)}),!0),t&&g(t)})({slider:"portfolio-content",slide:"portfolio-item",slideActive:"portfolio-item-active",button:"portfolio-btn",buttonPrev:"prev",buttonNext:"next",switchList:"portfolio-dots",switch:"dot",switchActive:"dot-active"},2e3)})();