(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),i=document.getElementById("timer-seconds"),l=setInterval((()=>{let e=(()=>{let e=new Date("31 february 2022 01:15").getTime(),t=(new Date).getTime(),s=Math.max((e-t)/1e3,0);return{timeRemaining:s,hours:Math.floor(s/60/60),minutes:Math.floor(s/60%60),seconds:Math.floor(s%60)}})();t.textContent=e.hours<10?"0"+e.hours:e.hours,s.textContent=("0"+e.minutes).slice(-2),i.textContent=("0"+e.seconds).slice(-2),e.timeRemaining||clearInterval(l)}),1e3)})(),(()=>{const e=document.querySelector("menu"),t=e=>{const t=document.querySelector(e);let s=Math.round(window.scrollY);const i=Math.round(t.getBoundingClientRect().top)+s,l=Math.round((i-s)/16.7);event.preventDefault(),function e(){s+=l,(s<i||s-i<l)&&(requestAnimationFrame(e),window.scrollTo(0,Math.min(s,i)))}()};document.querySelector("body").addEventListener("click",(s=>{let i,l=null;s.target.closest(".menu")||s.target.classList.contains("close-btn")||(l=s.target.closest("menu ul>li>a"))||!s.target.closest(".active-menu")&&e.classList.contains("active-menu")?e.classList.toggle("active-menu"):(i=s.target.closest("main a"))&&t(i.getAttribute("href")),l&&t(l.getAttribute("href"))}))})(),(()=>{const e=document.querySelector(".popup"),t=e.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((s=>{s.addEventListener("click",(s=>{e.style.display="block",window.innerWidth>767&&(()=>{const e=Math.round(100-100*t.getBoundingClientRect().left/window.innerWidth);let s=30;!function i(){s<e?(requestAnimationFrame(i),t.style.transform="translateX( 0px )",t.style.left=100-s+"%",s++):(t.style.left="",t.style.transform="")}()})()}))})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e.style.display="none")}))})(),document.querySelectorAll("input.calc-item").forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/gi,"")}))})),(()=>{const e=document.querySelectorAll('input[name="user_name"]'),t=document.querySelector('input[name="user_message"]'),s=document.querySelectorAll('input[name="user_phone"]'),i=document.querySelectorAll('input[name="user_email"]'),l=document.querySelectorAll("form input"),n=/[^а-я-\s]+/gi,r=/[^a-z\_\-\@\.\!\~\*\']+/gi,a=/[а-я]/gi,c=/[^\d\-()']+/gi,o=/(^[\s\-]+|^)(.*?)(?:([\s\-]+$)|$)/i,u=/(\s{2,})|(\-{2,})/g,d=/((^|\s\-|\s|\-)[а-я])([а-я]*)/gi;e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(n,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(d,((e,t,s,i)=>t.toUpperCase()+i.toLowerCase()))}))})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(n,"")})),s.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(c,"")}))})),i.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(r,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(a,(e=>""))}))})),l.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(o,((e,t,s)=>`${s}`)),t=t.replace(u,((e,t,s)=>(t?" ":"")+(s?"-":""))),e.target.value=t}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const i=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===i?(e.classList.add("active"),s[t].classList.remove("d-none")):(e.classList.remove("active"),s[t].classList.add("d-none"))}))}}))})(),((e,t=1500)=>{const s={slide:"slide-default",slideActive:"slide-active-default",switch:"switch-defult",switchActive:"switch-active-default",get switchOrButton(){return`.${this.switch}`+("button"in this?`, .${this.button}`:"")}};let i="";for(let t in e)s[t]=e[t];if("slider"in s||(i+="init:slider не указан \n"),i)return i;const l=document.querySelector(`.${s.slider}`);if(l?"UL"!==l.nodeName&&(i+=`тег <${l.nodeName.toLowerCase()}>не приемлем для инициализации слайдера, используйте тег <ul>\n`):i+=`тег инициализации слайдера <ul class="${s.slider}"></ul> не найден\n`,i)return i;const n=l.querySelectorAll("li");if(n.length?n.forEach((e=>{e.classList.contains(s.slide)||("slide-default"===s.slide?(e.classList.add(s.slide),e.style.opacity="0",e.style.position="absolute"):i+=`класс "${s.slide}" не объявлен для слайда <li class="${e.classList}">\n`)})):i+=`теги инициализации слайдов <li class="${s.slide}"></li> не найдены\n`,i)return i;const r=l.querySelector(`.${s.button}.${s.buttonPrev}`),a=l.querySelector(`.${s.button}.${s.buttonNext}`);t=t<=0?0:t<1e3?1e3:t;let c,o=0;const u=(()=>{const e=[],t=document.createElement("li");t.classList.add(s.switch),"switch-defult"===s.switch&&(t.style.display="inline-block",t.style.width="2rem",t.style.height="2rem",t.style.marginLeft="1rem",t.style.backgroundColor="white",t.style.cursor="pointer",t.style.borderRadius="50%"),"switch-active-default"===s.switchActive&&(t.style.outlineWidth="0.3rem",t.style.outlineStyle="solid",t.style.outlineColor="white");const i=document.createElement("ul");"switchList"in s&&i.classList.add(s.switchList);for(let s=0;s<n.length;s++)e.push(t.cloneNode()),i.append(e[s]);return e[0].classList.add(s.switchActive),l.append(i),e})(),d=e=>{n[e].classList.remove(s.slideActive),"slide-active-default"===s.slideActive&&(n[e].style.opacity="0"),u[e].classList.remove(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="white")},h=e=>{n[e].classList.add(s.slideActive),"slide-active-default"===s.slideActive&&(n[e].style.opacity="1"),u[e].classList.add(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="blue")},m=(e,t)=>{r&&(r.style.filter=e?"brightness(0.5)":""),a&&(a.style.filter=t?"brightness(0.5)":"")},v=()=>{d(o),o++,o>=n.length&&(o=0),m(0===o,o===n.length-1),h(o)},g=e=>{c=setInterval(v,e)};l.addEventListener("click",(e=>{e.target.matches(s.switchOrButton)&&(e.preventDefault(),d(o),e.target.classList.contains(s.buttonNext)?o++:e.target.classList.contains(s.buttonPrev)?o--:e.target.classList.contains(s.switch)&&u.forEach(((t,s)=>{e.target===t&&(o=s)})),o=Math.min(Math.max(o,0),n.length-1),m(0===o,o===n.length-1),h(o))})),l.addEventListener("mouseenter",(e=>{t&&e.target.matches(s.switchOrButton)&&clearInterval(c)}),!0),l.addEventListener("mouseleave",(e=>{t&&e.target.matches(s.switchOrButton)&&g(t)}),!0),t&&g(t)})({slider:"portfolio-content",slide:"portfolio-item",slideActive:"portfolio-item-active",button:"portfolio-btn",buttonPrev:"prev",buttonNext:"next",switchList:"portfolio-dots",switch:"dot",switchActive:"dot-active"},2e3)})();