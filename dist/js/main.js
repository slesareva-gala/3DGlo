(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),l=document.getElementById("timer-seconds"),n=setInterval((()=>{let e=(()=>{let e=new Date("31 february 2022 01:15").getTime(),t=(new Date).getTime(),s=Math.max((e-t)/1e3,0);return{timeRemaining:s,hours:Math.floor(s/60/60),minutes:Math.floor(s/60%60),seconds:Math.floor(s%60)}})();t.textContent=e.hours<10?"0"+e.hours:e.hours,s.textContent=("0"+e.minutes).slice(-2),l.textContent=("0"+e.seconds).slice(-2),e.timeRemaining||clearInterval(n)}),1e3)})(),(()=>{const e=document.querySelector("menu"),t=e=>{const t=document.querySelector(e);let s=Math.round(window.scrollY);const l=Math.round(t.getBoundingClientRect().top)+s,n=Math.round((l-s)/16.7);event.preventDefault(),function e(){s+=n,(s<l||s-l<n)&&(requestAnimationFrame(e),window.scrollTo(0,Math.min(s,l)))}()};document.querySelector("body").addEventListener("click",(s=>{let l,n=null;s.target.closest(".menu")||s.target.classList.contains("close-btn")||(n=s.target.closest("menu ul>li>a"))||!s.target.closest(".active-menu")&&e.classList.contains("active-menu")?e.classList.toggle("active-menu"):(l=s.target.closest("main a"))&&t(l.getAttribute("href")),n&&t(n.getAttribute("href"))}))})(),(()=>{const e=document.querySelector(".popup"),t=e.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((s=>{s.addEventListener("click",(s=>{e.style.display="block",window.innerWidth>767&&(()=>{const e=Math.round(100-100*t.getBoundingClientRect().left/window.innerWidth);let s=30;!function l(){s<e?(requestAnimationFrame(l),t.style.transform="translateX( 0px )",t.style.left=100-s+"%",s++):(t.style.left="",t.style.transform="")}()})()}))})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e.style.display="none")}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),s=t.querySelector(".calc-type"),l=t.querySelector(".calc-square"),n=t.querySelector(".calc-count"),i=t.querySelector(".calc-day"),a=document.getElementById("total"),r=e=>{let t=0;const s=Math.round(e/16.7/2);!function l(){t+=s,(t<e||t-e<s)&&(requestAnimationFrame(l),a.textContent=Math.min(t,e))}()};t.debounce=function(e,t){return s=>{"lastCallTimer"in this&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout((()=>e(s)),t)}},t.addEventListener("input",(c=>{c.target!==s&&c.target!==l&&c.target!==n&&c.target!==i||(c.target!==s&&(c.target.value=c.target.value.replace(/\D+/g,""),c.target.value=c.target.value.replace(/^0+/g,"")),(()=>{const c=+s.options[s.selectedIndex].value,o=+l.value;let u=0,d=1,m=1;+n.value>1&&(d+=+n.value/10),0==+i.value||(+i.value<5?m=2:+i.value<10&&(m=1.5)),u=Math.round(e*c*o*d*m),a.textContent=u,u&&t.debounce(r,500)(u)})())}))})(100),(()=>{const e=document.querySelectorAll('input[name="user_name"]'),t=document.querySelector('input[name="user_message"]'),s=document.querySelectorAll('input[name="user_phone"]'),l=document.querySelectorAll('input[name="user_email"]'),n=document.querySelectorAll("form input"),i=/[^а-я-\s]+/gi,a=/[^a-z\_\-\@\.\!\~\*\']+/gi,r=/[а-я]/gi,c=/[^\d\-()']+/gi,o=/(^[\s\-]+|^)(.*?)(?:([\s\-]+$)|$)/i,u=/(\s{2,})|(\-{2,})/g,d=/((^|\s\-|\s|\-)[а-я])([а-я]*)/gi;e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(i,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(d,((e,t,s,l)=>t.toUpperCase()+l.toLowerCase()))}))})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(i,"")})),s.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(c,"")}))})),l.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(a,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(r,(e=>""))}))})),n.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(o,((e,t,s)=>`${s}`)),t=t.replace(u,((e,t,s)=>(t?" ":"")+(s?"-":""))),e.target.value=t}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const l=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===l?(e.classList.add("active"),s[t].classList.remove("d-none")):(e.classList.remove("active"),s[t].classList.add("d-none"))}))}}))})(),((e,t=1500)=>{const s={slide:"slide-default",slideActive:"slide-active-default",switch:"switch-defult",switchActive:"switch-active-default",get switchOrButton(){return`.${this.switch}`+("button"in this?`, .${this.button}`:"")}};let l="";for(let t in e)s[t]=e[t];if("slider"in s||(l+="init:slider не указан \n"),l)return l;const n=document.querySelector(`.${s.slider}`);if(n?"UL"!==n.nodeName&&(l+=`тег <${n.nodeName.toLowerCase()}>не приемлем для инициализации слайдера, используйте тег <ul>\n`):l+=`тег инициализации слайдера <ul class="${s.slider}"></ul> не найден\n`,l)return l;const i=n.querySelectorAll("li");if(i.length?i.forEach((e=>{e.classList.contains(s.slide)||("slide-default"===s.slide?(e.classList.add(s.slide),e.style.opacity="0",e.style.position="absolute"):l+=`класс "${s.slide}" не объявлен для слайда <li class="${e.classList}">\n`)})):l+=`теги инициализации слайдов <li class="${s.slide}"></li> не найдены\n`,l)return l;const a=n.querySelector(`.${s.button}.${s.buttonPrev}`),r=n.querySelector(`.${s.button}.${s.buttonNext}`);t=t<=0?0:t<1e3?1e3:t;let c,o=0;const u=(()=>{const e=[],t=document.createElement("li");t.classList.add(s.switch),"switch-defult"===s.switch&&(t.style.display="inline-block",t.style.width="2rem",t.style.height="2rem",t.style.marginLeft="1rem",t.style.backgroundColor="white",t.style.cursor="pointer",t.style.borderRadius="50%"),"switch-active-default"===s.switchActive&&(t.style.outlineWidth="0.3rem",t.style.outlineStyle="solid",t.style.outlineColor="white");const l=document.createElement("ul");"switchList"in s&&l.classList.add(s.switchList);for(let s=0;s<i.length;s++)e.push(t.cloneNode()),l.append(e[s]);return e[0].classList.add(s.switchActive),n.append(l),e})(),d=e=>{i[e].classList.remove(s.slideActive),"slide-active-default"===s.slideActive&&(i[e].style.opacity="0"),u[e].classList.remove(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="white")},m=e=>{i[e].classList.add(s.slideActive),"slide-active-default"===s.slideActive&&(i[e].style.opacity="1"),u[e].classList.add(s.switchActive),"switch-active-default"===s.switchActive&&(u[e].style.outlineColor="blue")},v=(e,t)=>{a&&(a.style.filter=e?"brightness(0.5)":""),r&&(r.style.filter=t?"brightness(0.5)":"")},h=()=>{d(o),o++,o>=i.length&&(o=0),v(0===o,o===i.length-1),m(o)},g=e=>{c=setInterval(h,e)};n.addEventListener("click",(e=>{e.target.matches(s.switchOrButton)&&(e.preventDefault(),d(o),e.target.classList.contains(s.buttonNext)?o++:e.target.classList.contains(s.buttonPrev)?o--:e.target.classList.contains(s.switch)&&u.forEach(((t,s)=>{e.target===t&&(o=s)})),o=Math.min(Math.max(o,0),i.length-1),v(0===o,o===i.length-1),m(o))})),n.addEventListener("mouseenter",(e=>{t&&e.target.matches(s.switchOrButton)&&clearInterval(c)}),!0),n.addEventListener("mouseleave",(e=>{t&&e.target.matches(s.switchOrButton)&&g(t)}),!0),t&&g(t)})({slider:"portfolio-content",slide:"portfolio-item",slideActive:"portfolio-item-active",button:"portfolio-btn",buttonPrev:"prev",buttonNext:"next",switchList:"portfolio-dots",switch:"dot",switchActive:"dot-active"},2e3)})();